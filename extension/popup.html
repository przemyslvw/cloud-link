<!DOCTYPE html>
<html>

<head>
  <title>CloudLink</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div id="app">
    <!-- Login View -->
    <div id="login-view" style="display: none;">
      <h2>CloudLink Login</h2>
      <form id="login-form">
        <input type="email" id="email" placeholder="Email" required>
        <input type="password" id="password" placeholder="Password" required>
        <button type="submit">Login</button>
      </form>
      <p id="error-message" class="error"></p>
      <a href="#" id="forgot-password-link">Forgot Password?</a>
    </div>

    <!-- Reset Password View -->
    <div id="reset-view" style="display: none;">
      <h2>Reset Password</h2>
      <p>Enter your email to receive a password reset link.</p>
      <form id="reset-form">
        <input type="email" id="reset-email" placeholder="Email" required>
        <button type="submit">Send Reset Link</button>
      </form>
      <a href="#" id="back-to-login-link">Back to Login</a>
      <p id="reset-message" class="message"></p>
    </div>

    <!-- Logged In View -->
    <div id="logged-in-view" style="display: none;">
      <h2>CloudLink</h2>
      <p>Logged in as: <span id="user-email"></span></p>
      
      <!-- Status Badge -->
      <div id="status-badge" class="status-badge" style="display:none; padding: 10px; margin: 10px 0; border-radius: 4px;"></div>

      <button id="logout-btn">Logout</button>
      <button id="sync-btn">Sync Now</button>
      <p id="sync-status"></p>
    </div>

    <!-- Conflict Resolution View -->
    <div id="conflict-view" style="display: none; border: 1px solid #f44336; padding: 15px; border-radius: 8px;">
        <h3 style="color: #f44336; margin-top:0;">⚠️ Conflict Detected</h3>
        <p>Your local bookmarks differ significantly from the cloud version.</p>
        <p><strong>Cloud Items:</strong> <span id="remote-count">?</span></p>
        <p><strong>Local Items:</strong> <span id="local-count">?</span></p>
        <p>Please choose how to resolve this:</p>
        
        <button id="btn-merge" style="background-color: #2196F3; color: white; width: 100%; margin-bottom: 5px;">Merge (Recommended)</button>
        <button id="btn-keep-local" style="background-color: #4CAF50; color: white; width: 100%; margin-bottom: 5px;">Keep Local (Overwrite Cloud)</button>
        <button id="btn-keep-remote" style="background-color: #FF9800; color: white; width: 100%; margin-bottom: 5px;">Keep Cloud (Overwrite Local)</button>
    </div>

    <!-- Loading View -->
    <div id="loading-view">
      <p>Loading...</p>
    </div>
  </div>
  <script src="popup.js"></script>
</body>

</html>